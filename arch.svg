<svg viewBox="0 0 1400 900" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="RAS DApp Architecture">
  <defs>
    <!-- Gradients -->
    <linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#F7931A;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FDB931;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="darkGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a1a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2d2d2d;stop-opacity:1" />
    </linearGradient>

    <!-- Arrow markers -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#F7931A" />
    </marker>

    <!-- Glow filter (fixed: feGaussianBlur has 'in' and feMergeNodes explicit) -->
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="4" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1400" height="900" fill="#0a0a0a"/>

  <!-- Title -->
  <text x="700" y="50" font-family="Arial, sans-serif" font-size="36" font-weight="700" fill="url(#goldGradient)" text-anchor="middle">
    RAS DApp Architecture
  </text>
  <text x="700" y="80" font-family="Arial, sans-serif" font-size="16" fill="#cccccc" text-anchor="middle">
    Decentralized Reputation System on Rootstock Testnet
  </text>

  <!-- ========== LEFT: FRONTEND COMPONENTS ========== -->
  <g id="frontend" transform="translate(0,0)">
    <rect x="50" y="120" width="400" height="650" rx="15" fill="url(#darkGradient)" stroke="#F7931A" stroke-width="3"/>
    <text x="250" y="160" font-family="Arial, sans-serif" font-size="24" font-weight="700" fill="#F7931A" text-anchor="middle">
      FRONTEND
    </text>
    <text x="250" y="185" font-family="Arial, sans-serif" font-size="14" fill="#cccccc" text-anchor="middle">
      Next.js + TypeScript + Ethers.js
    </text>

    <!-- Component 1: Schema Setup -->
    <g id="schema-component">
      <rect x="80" y="210" width="340" height="150" rx="10" fill="#1a1a1a" stroke="#FDB931" stroke-width="2"/>
      <circle cx="115" cy="250" r="25" fill="#F7931A"/>
      <text x="115" y="258" font-family="Arial, sans-serif" font-size="20" font-weight="700" fill="#000" text-anchor="middle">1</text>

      <text x="160" y="245" font-family="Arial, sans-serif" font-size="18" font-weight="700" fill="#ffffff">
        Schema Component
      </text>
      <text x="160" y="265" font-family="Arial, sans-serif" font-size="12" fill="#999">
        schema.tsx
      </text>

      <rect x="95" y="280" width="310" height="65" rx="6" fill="#2d2d2d" stroke="#F7931A" stroke-width="1"/>
      <text x="105" y="300" font-family="Arial, sans-serif" font-size="11" fill="#FDB931">
        • User defines schema structure
      </text>
      <text x="105" y="318" font-family="Arial, sans-serif" font-size="11" fill="#cccccc">
        • Ethers.js contract interaction
      </text>
      <text x="105" y="336" font-family="Arial, sans-serif" font-size="11" fill="#cccccc">
        • Calls register on Schema Registry
      </text>
    </g>

    <!-- Component 2: Issue Attestation -->
    <g id="issue-component">
      <rect x="80" y="380" width="340" height="150" rx="10" fill="#1a1a1a" stroke="#FDB931" stroke-width="2"/>
      <circle cx="115" cy="420" r="25" fill="#F7931A"/>
      <text x="115" y="428" font-family="Arial, sans-serif" font-size="20" font-weight="700" fill="#000" text-anchor="middle">2</text>

      <text x="160" y="415" font-family="Arial, sans-serif" font-size="18" font-weight="700" fill="#ffffff">
        Issue Component
      </text>
      <text x="160" y="435" font-family="Arial, sans-serif" font-size="12" fill="#999">
        issue.tsx
      </text>

      <rect x="95" y="450" width="310" height="65" rx="6" fill="#2d2d2d" stroke="#F7931A" stroke-width="1"/>
      <text x="105" y="470" font-family="Arial, sans-serif" font-size="11" fill="#FDB931">
        • Select schema &amp; enter data
      </text>
      <text x="105" y="488" font-family="Arial, sans-serif" font-size="11" fill="#cccccc">
        • Encode data with SchemaEncoder
      </text>
      <text x="105" y="506" font-family="Arial, sans-serif" font-size="11" fill="#cccccc">
        • Calls attest on EAS Contract
      </text>
    </g>

    <!-- Component 3: Verify -->
    <g id="verify-component">
      <rect x="80" y="550" width="340" height="150" rx="10" fill="#1a1a1a" stroke="#FDB931" stroke-width="2"/>
      <circle cx="115" cy="590" r="25" fill="#F7931A"/>
      <text x="115" y="598" font-family="Arial, sans-serif" font-size="20" font-weight="700" fill="#000" text-anchor="middle">3</text>

      <text x="160" y="585" font-family="Arial, sans-serif" font-size="18" font-weight="700" fill="#ffffff">
        Verify Component
      </text>
      <text x="160" y="605" font-family="Arial, sans-serif" font-size="12" fill="#999">
        verify.tsx
      </text>

      <rect x="95" y="620" width="310" height="65" rx="6" fill="#2d2d2d" stroke="#F7931A" stroke-width="1"/>
      <text x="105" y="640" font-family="Arial, sans-serif" font-size="11" fill="#FDB931">
        • Query by recipient and schema
      </text>
      <text x="105" y="658" font-family="Arial, sans-serif" font-size="11" fill="#cccccc">
        • Fetch via GraphQL query
      </text>
      <text x="105" y="676" font-family="Arial, sans-serif" font-size="11" fill="#cccccc">
        • Decode and display attestations
      </text>
    </g>

    <!-- Wallet Connection Note -->
    <rect x="80" y="720" width="340" height="40" rx="6" fill="#2d2d2d" stroke="#F7931A" stroke-width="1"/>
    <text x="250" y="745" font-family="Arial, sans-serif" font-size="11" fill="#999" text-anchor="middle">
      Ethers.js Provider and Signer for all interactions
    </text>
  </g>

  <!-- Arrow: Frontend to Blockchain -->
  <g id="arrow-group" fill="none" stroke-linecap="round">
    <!-- Schema Arrow -->
    <line x1="450" y1="285" x2="780" y2="285" stroke="#F7931A" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="615" y="270" font-family="Arial, sans-serif" font-size="11" fill="#F7931A" text-anchor="middle">
      register()
    </text>

    <!-- Issue Arrow -->
    <line x1="450" y1="455" x2="780" y2="455" stroke="#F7931A" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="615" y="440" font-family="Arial, sans-serif" font-size="11" fill="#F7931A" text-anchor="middle">
      attest()
    </text>

    <!-- Verify Arrow -->
    <line x1="450" y1="625" x2="780" y2="625" stroke="#F7931A" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="615" y="610" font-family="Arial, sans-serif" font-size="11" fill="#F7931A" text-anchor="middle">
      GraphQL Query
    </text>

    <!-- Center Label -->
    <rect x="550" y="350" width="200" height="40" rx="8" fill="#1a1a1a" stroke="#FDB931" stroke-width="2"/>
    <text x="650" y="375" font-family="Arial, sans-serif" font-size="13" font-weight="700" fill="#FDB931" text-anchor="middle">
      Direct Contract Calls
    </text>
  </g>

  <!-- ========== RIGHT: BLOCKCHAIN LAYER ========== -->
  <g id="blockchain">
    <rect x="790" y="120" width="560" height="650" rx="15" fill="url(#darkGradient)" stroke="#F7931A" stroke-width="3"/>
    <text x="1070" y="160" font-family="Arial, sans-serif" font-size="24" font-weight="700" fill="#F7931A" text-anchor="middle">
      ROOTSTOCK TESTNET
    </text>
    <text x="1070" y="185" font-family="Arial, sans-serif" font-size="14" fill="#cccccc" text-anchor="middle">
      Bitcoin-Secured Blockchain
    </text>

    <!-- Schema Registry Contract -->
    <rect x="820" y="210" width="500" height="140" rx="10" fill="#1a1a1a" stroke="#FDB931" stroke-width="2" filter="url(#glow)"/>
    <text x="1070" y="245" font-family="Arial, sans-serif" font-size="18" font-weight="700" fill="#FDB931" text-anchor="middle">
      Schema Registry Contract
    </text>
    <text x="1070" y="265" font-family="Arial, sans-serif" font-size="11" fill="#999" text-anchor="middle">
      0x679c62956cD2801ABaBF80e9D430F18859eea2D5
    </text>

    <rect x="840" y="280" width="460" height="55" rx="6" fill="#2d2d2d" stroke="#F7931A" stroke-width="1"/>
    <text x="850" y="300" font-family="Arial, sans-serif" font-size="12" fill="#ffffff">
      • register(schema, resolver, revocable) returns Schema UID
    </text>
    <text x="850" y="318" font-family="Arial, sans-serif" font-size="12" fill="#ffffff">
      • getSchema(uid) returns Schema Details
    </text>
    <text x="850" y="333" font-family="Arial, sans-serif" font-size="10" fill="#999">
      Stores all schema templates on-chain
    </text>

    <!-- EAS Contract -->
    <rect x="820" y="370" width="500" height="140" rx="10" fill="#1a1a1a" stroke="#FDB931" stroke-width="2" filter="url(#glow)"/>
    <text x="1070" y="405" font-family="Arial, sans-serif" font-size="18" font-weight="700" fill="#FDB931" text-anchor="middle">
      EAS (Ethereum Attestation Service) Contract
    </text>
    <text x="1070" y="425" font-family="Arial, sans-serif" font-size="11" fill="#999" text-anchor="middle">
      0xc300aeEadd60999933468738c9F5d7e9c0671e1C
    </text>

    <rect x="840" y="440" width="460" height="55" rx="6" fill="#2d2d2d" stroke="#F7931A" stroke-width="1"/>
    <text x="850" y="460" font-family="Arial, sans-serif" font-size="12" fill="#ffffff">
      • attest(AttestationRequest) returns Attestation UID
    </text>
    <text x="850" y="478" font-family="Arial, sans-serif" font-size="12" fill="#ffffff">
      • revoke(RevocationRequest) marks as revoked
    </text>
    <text x="850" y="493" font-family="Arial, sans-serif" font-size="10" fill="#999">
      Permanent storage of all attestations
    </text>

    <!-- RAS Indexer -->
    <rect x="820" y="530" width="500" height="140" rx="10" fill="#1a1a1a" stroke="#FDB931" stroke-width="2" filter="url(#glow)"/>
    <text x="1070" y="565" font-family="Arial, sans-serif" font-size="18" font-weight="700" fill="#FDB931" text-anchor="middle">
      RAS Indexer (GraphQL API)
    </text>
    <text x="1070" y="585" font-family="Arial, sans-serif" font-size="11" fill="#999" text-anchor="middle">
      https://ras.indexer.rootstock.io/graphql
    </text>

    <rect x="840" y="600" width="460" height="55" rx="6" fill="#2d2d2d" stroke="#F7931A" stroke-width="1"/>
    <text x="850" y="620" font-family="Arial, sans-serif" font-size="12" fill="#ffffff">
      • Query attestations by recipient/schema
    </text>
    <text x="850" y="638" font-family="Arial, sans-serif" font-size="12" fill="#ffffff">
      • Filter by revocation status and timestamps
    </text>
    <text x="850" y="653" font-family="Arial, sans-serif" font-size="10" fill="#999">
      Off-chain indexer for fast queries
    </text>

    <!-- BTC Logo -->
    <circle cx="1070" cy="730" r="30" fill="none" stroke="#F7931A" stroke-width="3"/>
    <text x="1070" y="743" font-family="Arial, sans-serif" font-size="28" font-weight="700" fill="#F7931A" text-anchor="middle">
      &#x20BF;
    </text>
  </g>

  <!-- Bottom decoration -->
  <rect x="50" y="800" width="1300" height="3" fill="url(#goldGradient)"/>
  <text x="700" y="840" font-family="Arial, sans-serif" font-size="14" fill="#999" text-anchor="middle">
    Built with Next.js + TypeScript + Ethers.js | Secured by Bitcoin via Rootstock
  </text>

  <!-- Tech Stack Badge -->
  <rect x="550" y="855" width="300" height="30" rx="15" fill="#1a1a1a" stroke="#F7931A" stroke-width="1"/>
  <text x="700" y="876" font-family="Arial, sans-serif" font-size="12" fill="#FDB931" text-anchor="middle">
    Direct Smart Contract Integration
  </text>
</svg>
